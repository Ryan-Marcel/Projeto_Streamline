
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="~/css/header.css" />
    <link rel="stylesheet" href="~/css/login.css" />
    <title>Login</title>
</head>

<body>

    @* HEADER COMPARTILHADO *@
    <partial name="_Header" />

    <main class="login-container">
        <div class="login-box">

            <h2>Acesse sua conta</h2>

            @* EXIBIR ERRO DA AUTENTICAÇÃO *@
            @if (ViewBag.Error != null || TempData["Error"] != null)
            {
                var errorMessage = ViewBag.Error ?? TempData["Error"];
                <div class="alert-error">@errorMessage</div>
            }

            @* DEBUG VISUAL PARA SABER SE A VIEW ESTÁ SENDO CHAMADA *@
            <div style="color: #777; font-size: 14px; margin-bottom: 10px;">
                [DEBUG] View: Login.cshtml carregada
            </div>

            @* FORM REAL DE AUTENTICAÇÃO *@
            @* Submissão para a action Login do AccountController (que recebe email e senha como strings) *@
            <form asp-controller="Account" asp-action="Login" method="post">
                @Html.AntiForgeryToken()
                <div class="input-group">
                    <label for="email">Registro do Aluno</label>
                    <input name="email" id="email" type="text" class="form-control" required />
                </div>

                <div class="input-group">
                    <label for="senha">Senha</label>
                    <input name="senha" id="senha" type="password" class="form-control" required />
                </div>

                <button type="submit" class="btn-login">Entrar</button>

            </form>

            <hr />

            @* ACESSO ADMIN: navegar para a página de Login do Account (use credenciais de administrador) *@
            <a asp-controller="Account" asp-action="Login" class="btn-login">Entrar como ADMIN</a>

            <p class="extra">
                <a href="#">Esqueceu sua senha?</a>
            </p>

        </div>
    </main>

    <footer></footer>

    @section Scripts {
        <partial name="_ValidationScriptsPartial" />
    }

</body>

</html>
